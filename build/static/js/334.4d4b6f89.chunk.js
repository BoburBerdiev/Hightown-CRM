"use strict";(self.webpackChunkhightowncity_crm=self.webpackChunkhightowncity_crm||[]).push([[334],{84268:(e,r,t)=>{t.d(r,{A:()=>n});t(65043);var s=t(50289),i=t(33307),a=t(70579);const n=e=>{let{label:r,name:t,required:n,required_text:d,warning:c}=e;return(0,a.jsx)(s.A.Item,{label:c?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:r}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{children:c})]}):(0,a.jsx)("div",{children:r}),name:t,rules:[{required:n,message:d}],children:(0,a.jsx)(i.A,{})})}},28334:(e,r,t)=>{t.r(r),t.d(r,{default:()=>w});var s=t(50289),i=t(48193),a=t(64435),n=t(89421),d=t(64124),c=t(47419),l=t(11645),o=t(96066),u=t(67407),h=t(53648),x=t(65043),p=t(59888),j=t(82907),m=t(84268),A=t(86178),f=t.n(A),g=t(70579);const v={title_uz:"",title_ru:"",sub_category:[]},y=e=>{let{data:r,refetch:t}=e;const[A]=s.A.useForm(),[y,b]=(0,x.useState)(!1),[w,C]=(0,x.useState)(null),{mutate:_,data:k,isLoading:S,isSuccess:q}=(0,j.useMutation)((e=>{let{url:r,data:t,id:s}=e;return p.A.editData(r,t,s)}),{onSuccess:()=>{i.Ay.success("Success")},onError:e=>{for(let r in e.response.data)i.Ay.error("".concat(r,": ").concat(e.response.data[r][0]))}}),D=e=>{_({url:"/Kurs",data:e,id:w})};(0,x.useEffect)((()=>{q&&(b(!1),A.setFieldsValue(v),t())}),[k]);const F=[{title:"\u0426\u0435\u043d\u0430",dataIndex:"price",id:"price",render:e=>(0,g.jsx)("p",{children:e})},{title:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435",id:"action",render:(e,r)=>(0,g.jsx)(a.A,{size:20,children:(0,g.jsx)(n.A,{onClick:()=>{return e=r.id,b(!0),void C(e);var e},type:"primary",icon:(0,g.jsx)(u.A,{}),children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0443\u0440\u0441"})})},{title:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435",dataIndex:"updateTime",id:"updateTime",render:e=>(0,g.jsx)("p",{children:f()(e).format("DD.MM.YYYY")})}];return(0,g.jsxs)("div",{children:[(0,g.jsx)(d.A,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0443\u0440\u0441",open:y,onOk:()=>{A.validateFields().then((e=>{D(e)})).catch((e=>{console.log("Failed:",e)}))},onCancel:()=>{b(!1)},children:S?(0,g.jsx)(h.HE,{}):(0,g.jsx)(s.A,{form:A,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:v,onFinish:D,autoComplete:"off",children:(0,g.jsx)(c.A,{gutter:20,children:(0,g.jsx)(l.A,{span:24,children:(0,g.jsx)(m.A,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043a\u0443\u0440\u0441",label:"\u041a\u0443\u0440\u0441",name:"price"})})})})}),(0,g.jsx)(o.A,{columns:F,dataSource:r,rowKey:e=>null===e||void 0===e?void 0:e.id})]})};var b=t(5397);const w=()=>{const{data:e,isLoading:r,refetch:t}=(0,j.useQuery)("course-get",(()=>p.A.getDataByID("/Kurs",1)),{onError:e=>{i.Ay.error(e.message)}});return(0,g.jsx)("div",{className:"site-space-compact-wrapper",children:(0,g.jsx)(a.A,{direction:"vertical",style:{width:"100%"},children:(0,g.jsx)(b.A,{size:"medium",spinning:r,children:(0,g.jsx)(y,{data:[e],refetch:t})})})})}}}]);
//# sourceMappingURL=334.4d4b6f89.chunk.js.map